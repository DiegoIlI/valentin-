<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
<title>ðŸ’˜ 14 Febrero</title>

<style>
html,body{
  margin:0;
  height:100%;
  background:#05060a;
  overflow:hidden;
  overscroll-behavior:none;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
}
canvas{
  position:fixed;
  inset:0;
}
.ui{
  position:fixed;
  top:15px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:10px;
  background:rgba(10,12,20,.6);
  padding:10px 15px;
  border-radius:999px;
  backdrop-filter:blur(10px);
  z-index:5;
  color:#fff;
}
.ui input{
  border:none;
  background:transparent;
  color:white;
  font-weight:700;
  width:120px;
  outline:none;
}
.ui button{
  background:#ff4fd8;
  border:none;
  color:white;
  border-radius:999px;
  padding:5px 10px;
  font-weight:700;
}
</style>
</head>
<body>

<canvas id="c"></canvas>

<div class="ui">
  Para:
  <input id="name" value="Misitaâ¤ï¸"/>
  <button onclick="restart()">â–¶</button>
</div>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

let W,H,DPR;
function resize(){
  DPR = Math.min(2, window.devicePixelRatio || 1);
  W = innerWidth;
  H = innerHeight;
  canvas.width = W*DPR;
  canvas.height = H*DPR;
  canvas.style.width = W+"px";
  canvas.style.height = H+"px";
  ctx.setTransform(DPR,0,0,DPR,0,0);
}
resize();
addEventListener("resize",resize);

// ===== MATRIX BACKGROUND =====
function drawMatrix(){
  ctx.fillStyle="rgba(5,6,10,.12)";
  ctx.fillRect(0,0,W,H);

  ctx.fillStyle="rgba(255,79,216,.8)";
  ctx.font="16px monospace";

  for(let i=0;i<60;i++){
    let x=Math.random()*W;
    let y=Math.random()*H;
    ctx.fillText(String.fromCharCode(0x30A0+Math.random()*96),x,y);
  }
}

// ===== TEXT =====
function drawCenterText(text,size,y){
  ctx.save();
  ctx.fillStyle="white";
  ctx.textAlign="center";
  ctx.textBaseline="middle";
  ctx.font="900 "+size+"px system-ui";
  ctx.shadowColor="rgba(255,79,216,.7)";
  ctx.shadowBlur=25;
  ctx.fillText(text,W/2,y);
  ctx.restore();
}

// ===== HEART =====
function drawHeart(cx,cy,scale,pulse){
  ctx.save();
  ctx.translate(cx,cy);
  ctx.scale(scale*pulse,scale*pulse);

  ctx.beginPath();
  for(let t=0;t<=Math.PI*2;t+=0.02){
    let x=16*Math.pow(Math.sin(t),3);
    let y=-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
    if(t===0) ctx.moveTo(x,y);
    else ctx.lineTo(x,y);
  }
  ctx.closePath();

  ctx.fillStyle="rgba(255,79,216,.95)";
  ctx.shadowColor="rgba(255,79,216,.8)";
  ctx.shadowBlur=40;
  ctx.fill();
  ctx.restore();
}

// ===== SCENE CONTROLLER =====
let scene = 0;
let sceneStart = 0;
let name="Mi Amor";

const sceneDuration = 1500; // 1.5 segundos cada escena

function restart(){
  name = document.getElementById("name").value || "Mi Amor";
  scene = 0;
  sceneStart = performance.now();
}

function updateScene(now){
  if(scene < 6 && now - sceneStart > sceneDuration){
    scene++;
    sceneStart = now;
  }
}

// ===== LOOP =====
function loop(now){
  drawMatrix();
  updateScene(now);

  const sizeBig = Math.min(W,H)*0.35;
  const sizeMid = Math.min(W,H)*0.16;

  switch(scene){
    case 0:
      drawCenterText("1", sizeBig, H*0.5);
      break;
    case 1:
      drawCenterText("2", sizeBig, H*0.5);
      break;
    case 2:
      drawCenterText("3", sizeBig, H*0.5);
      break;
    case 3:
      drawCenterText("You", sizeMid, H*0.4);
      break;
    case 4:
      drawCenterText("Are", sizeMid, H*0.5);
      break;
    case 5:
      drawCenterText("My Love", sizeMid, H*0.6);
      break;
    default:
      let pulse = 1 + 0.08*Math.sin(now*0.005);
      drawHeart(W/2,H*0.5,Math.min(W,H)*0.012,pulse);
      drawCenterText("I Love You", Math.min(W,H)*0.06, H*0.48);
      drawCenterText(name, Math.min(W,H)*0.05, H*0.56);
  }

  requestAnimationFrame(loop);
}

restart();
requestAnimationFrame(loop);
</script>

</body>
</html>